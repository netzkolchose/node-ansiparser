!function(){"use strict";function t(t,e){for(var s=e-t,i=new Array(s);s--;)i[s]=--e;return i}function e(t,e,s,i,r){t[s][e]=[i?i:0,void 0===r?s:r]}function s(t,s,i,r,n){for(var a=0;a<s.length;a++)e(t,s[a],i,r,n)}function i(t){return t.split(";").slice(0,16).map(function(t){return t?parseInt(t,10):0})}function r(t){this.initial_state=0,this.current_state=this.initial_state,this.osc="",this.params="",this.collected="",this.term=t||{};for(var e=["inst_p","inst_o","inst_x","inst_c","inst_e","inst_H","inst_P","inst_U"],s=0;s<e.length;++s)e[s]in this.term||(this.term[e[s]]=function(){});this.reset()}var n=t(32,127),a=t(0,24);a.push(25),a.concat(t(28,32));var c=function(){for(var i=[],r=0;14>r;++r){for(var c=[],h=0;160>h;++h)c.push([1,0]);i.push(c)}for(s(i,n,0,2),r=0;14>r;++r)s(i,[24,26,153,154],r,3,0),s(i,t(128,144),r,3,0),s(i,t(144,152),r,3,0),e(i,156,r,0,0),e(i,27,r,11,1),e(i,157,r,4,8),s(i,[152,158,159],r,0,7),e(i,155,r,11,3),e(i,144,r,11,9);return s(i,a,0,3),s(i,a,1,3),e(i,127,1),s(i,a,8),s(i,a,3,3),e(i,127,3),s(i,a,4,3),e(i,127,4),s(i,a,6,3),s(i,a,5,3),e(i,127,5),s(i,a,2,3),e(i,127,2),e(i,93,1,4,8),s(i,n,8,5),s(i,[156,27,24,26,7],8,6,0),s(i,[88,94,95],1,0,7),s(i,n,7),s(i,a,7),e(i,156,7,0,0),e(i,91,1,11,3),s(i,t(64,127),3,7,0),s(i,t(48,58),3,8,4),e(i,59,3,8,4),s(i,[60,61,62,63],3,9,4),s(i,t(48,58),4,8),e(i,59,4,8),s(i,t(64,127),4,7,0),s(i,[58,60,61,62,63],4,0,6),s(i,t(32,64),6),e(i,127,6),s(i,t(64,127),6,0,0),e(i,58,3,0,6),s(i,t(32,48),3,9,5),s(i,t(32,48),5,9),s(i,t(48,64),5,0,6),s(i,t(64,127),5,7,0),s(i,t(32,48),4,9,5),s(i,t(32,48),1,9,2),s(i,t(32,48),2,9),s(i,t(48,127),2,10,0),s(i,t(48,80),1,10,0),s(i,[81,82,83,84,85,86,87,89,90,92],1,10,0),s(i,t(96,127),1,10,0),e(i,80,1,11,9),s(i,a,9),e(i,127,9),s(i,t(32,48),9,9,12),e(i,58,9,0,11),s(i,t(48,58),9,8,10),e(i,59,9,8,10),s(i,[60,61,62,63],9,9,10),s(i,a,11),s(i,t(32,128),11),s(i,a,10),e(i,127,10),s(i,t(48,58),10,8),e(i,59,10,8),s(i,[58,60,61,62,63],10,0,11),s(i,t(32,48),10,9,12),s(i,a,12),e(i,127,12),s(i,t(32,48),12,9),s(i,t(48,64),12,0,11),s(i,t(64,127),12,12,13),s(i,t(64,127),10,12,13),s(i,t(64,127),9,12,13),s(i,a,13,13),s(i,n,13,13),e(i,127,13),s(i,[27,156],13,14,0),i}();r.prototype.reset=function(){this.current_state=this.initial_state,this.osc="",this.params="",this.collected=""},r.prototype.parse=function(t){for(var e,s,r,n,a,h=this.current_state,o="",u="",f=this.osc,_=this.collected,p=this.params,m=0;m<t.length;++m){switch(e=t.charAt(m),s=e.charCodeAt(0),r=c[h][s]||[1,0],n=r[0],a=r[1],n){case 0:break;case 1:if(s>159)switch(h){case 0:o+=e;break;case 8:f+=e,a=8;break;case 6:a=6;break;case 11:a=11;break;case 13:u+=e,a=13}break;case 2:o+=e;break;case 3:""!==o&&(this.term.inst_p(o),o=""),this.term.inst_x(e);break;case 7:this.term.inst_c(_,i(p),e);break;case 8:p+=e;break;case 9:_+=e;break;case 10:this.term.inst_e(_,e);break;case 11:f="",p="",_="",u="",""!==o&&(this.term.inst_p(o),o="");break;case 4:""!==o&&(this.term.inst_p(o),o="");break;case 5:f+=e;break;case 6:this.term.inst_o(f),27==s&&(f="",p="",_="",u="",""!==o&&(this.term.inst_p(o),o=""),a=1);break;case 12:this.term.inst_H(_,i(p),e);break;case 13:u+=e;break;case 14:""!==u&&(this.term.inst_P(u),u=""),this.term.inst_U(),27==s&&(f="",p="",_="",u="",""!==o&&(this.term.inst_p(o),o=""),a=1)}h=a}""!==o?this.term.inst_p(o):""!==u&&13==h&&this.term.inst_P(u),this.osc=f,this.collected=_,this.params=p,this.current_state=h},"undefined"!=typeof module&&"undefined"!=typeof module.exports?module.exports=r:"function"==typeof define&&define.amd?define([],function(){return r}):window.AnsiParser=r}();
